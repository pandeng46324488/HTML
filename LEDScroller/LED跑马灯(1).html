<!DOCTYPE html>
<html>

<head>
	<title>Test4</title>
	<meta http-equiv="Content-type" content="text/html;charset=utf-8" />
	<style type='text/css'>
		.box{ width:500px; margin:20px auto; }
		.box ul{list-style: none;}
		.box ul li { width:10px; height: 10px; background-color: #ccc; float:left;}		
	</style>
</head>

<body>
	<div id='box' class='box'>
		<ul>
			<li></li>
			<li></li>
			<li></li>
			<li></li>
			<li></li>
			<li></li>
			<li></li>
			<li></li>
			<li></li>
			<li></li>
			<li></li>
			<li></li>
		</ul>
	</div>
</body>
<script type="text/javascript">
	
	//颜色数组（简称B）
	var colorArr = [ '#FF0000', '#FF3300', '#FF6600', '#FF9900', '#FFCC00' ];
	var liIndex = 0; //这里是一个数组游标，标记当前从哪个位置开始变化设置颜色
	var liArr = undefined; //进行变化的对象

	init();

	//初始化
	function init(){
		
		//我这里用的是li标签，如果你的是div，则将所有需要变化的div存在在一个变量中，我这里放的是liArr这个变量.
		liArr = document.getElementById('box').children[0].children;　//简称A对象

		//调用跑马灯函数
		fLEDScroller();
	}

	function fLEDScroller(){
		
		//偏移量
		var offset = 0;

		if( liIndex - liArr.length + 1  > 0 ){
			offset = liIndex - liArr.length + 1;
		}

		if( offset > colorArr.length ){
			liIndex = 0;
			offse = 0;
		}
		
		for(  var i = liIndex - offset, j = offset; i>=0 ; i--, j++ ){				

			//当偏移量并未超出颜色数组B的长度时，设置颜色
			if( j <colorArr.length ){
					liArr[i].style.backgroundColor = colorArr[j];
			}
			else{
				liArr[i].style.backgroundColor = '#ccc'; //当超出时，设置为默认的颜色
			}
		}

		//游标自增，进行移动
		liIndex++;

		//间隔100毫秒进行一次变化
		setTimeout( 'fLEDScroller()', 250 );
	}

</script>
</html>